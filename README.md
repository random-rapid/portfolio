## サービス概要

他者との約束を記録・管理するためのサービスです。約束の内容、期限、履行の証明方法、違約時のペナルティなどをフォームに入力して設定します。約束の達成や変更を見届ける第三者を立会人として設定することができます。約束相手は履行証明をもとに達成の判断を下します。履行の証拠を提出するためのフォームも用意しています。

## このサービスへの思い・作りたい理由

友人Aにお金を貸してほしいと頼まれたことがありました。不安はありましたが、共通の友人Bへの返済実績、返済能力などを考慮してお金を貸す判断をしました。友人Aとは、返済額、返済期日、返済方法などを口頭で取り決めました。  
口約束は証拠が残りにくくトラブルに繋がりかねません。後々、約束の内容に関して認識の齟齬が出た時のことを考えて、書面に残しておくべきだったと感じました。今回の場合、共通の友人Bに約束の内容を共有しておくことで、もしトラブルが発生しても第三者の判断を仰ぐことが出来て安心だったのではないかと思いました。  
このエピソードをきっかけに、お金の貸し借りだけでなく日常の様々な約束事を見届けることのできるプラットフォームが有ればよいと感じるようになりました。

本サービスに法的拘束力は一切ありません。当事者に約束を守る気がなければサービスを利用しても反故にされる可能性はありますが、しかしそれは通常の契約においても同様です。口約束であっても法的には契約になりますが、証拠が無ければ裁判によって法的な措置を取ることが困難になります。本サービスが提供するのは、簡易的にでも証拠を残すことで裁判を有利にする効果です。また精神的な対策にはなりますが、ペナルティと第三者介入によって当事者に対する動機付けも提供します。

## ユーザー層について

- ユーザー層：大学生・社会人
  - 理由1：貸借で扱う金額が大きくなるため。
  - 理由2：子供と異なり、ダイエット・勉強・スキル習得などを基本的に自己管理する必要があるため。

## サービスの利用イメージ

- 一時的な支払いの立替などでお金の貸し借りが発生したときに、額面と支払期日などを記録しておける。後日、返済の有無や支払期日などで揉めるのを回避できる。金銭トラブルは信頼をなくすので、不和を回避できるだけでなく、きっちり支払った実績として残すことで信頼を向上させることもできる。
- ルームシェアなど、初めに取り決めた内容を継続して遂行する必要がある場合に、取り決め内容が不明瞭になることを防ぐことができる。ペナルティや約束の編集機能があることで、トラブル発生時にも対応することができる。
- 〇か月で△kg痩せるというような目標を宣言することができる。目標の達成判断を他人に委ねることがで切るため、甘えにくくなる。

## ユーザーの獲得について

ツイッターなどのSNSに約束内容とリンクを投稿できるようにして、ユーザーに認知してもらう。

## サービスの差別化ポイント・推しポイント

- シンプルさと手軽さ
  - 電子契約サービスと比べて、法的拘束力はないが、その分手軽に利用できる。
  - 契約書を作るほどではないが、「約束を記録したい」というカジュアルな利用に適している。
- 約束の証拠記録＋第三者（立会人）システム
  - 約束の内容だけでなく、証拠を残せる。
  - 立会人を設けることで、社会的な圧力をかけられる。
  - 他の約束管理アプリは当事者同士のやりとりが多く、立会人を入れる仕組みは少ない。
- 約束の「公開」機能
  - 約束をSNSに投稿できるため、「コミットメント効果」（公言することで守る意識が高まる）を狙える。
  - 一般のタスク管理や契約サービスは非公開での利用が前提だが、本サービスは「オープンにすることで守る動機を高める」という独自の視点がある。
- ペナルティ設定が可能
  - 罰則を自分で設定することで、守る意識を強化できる。
  - 金銭トラブルだけでなく、ダイエットや勉強などの目標達成にも使えるのが強み。

## 機能候補

### MVPリリース

- ユーザー登録なしでできること
  - 約束作成
    - 申し込み
    - 承諾、拒否
    - 立会人の見届け
  - 約束編集
    - 編集の申し込み
    - 承諾、拒否
    - 立会
  - 約束公開
    - 公開用ハンドルネームの設定
  - ユーザー登録用リンクの発行
  - 約束達成判断
    - 約束達成の証拠提出フォームへのアクセス
- ユーザー登録以降できること
  - 約束一覧
    - 検索、ソート
  - 登録以前に作成した約束とユーザー情報との紐づけ
  - 公開された約束の閲覧

### 本リリース

- 約束内容をPDFとして発行
- 約束内容をSNSで公開できる（共有ボタン）
- 約束履行回数、履行率のスコア化
- 約束同士の関連付け
- 約束期日の前にリマインド（メール）

## 機能の実装方針予定

### 技術スタック

|カテゴリ|技術|
|:---|:---|
|開発環境|Docker|
|バックエンド|Ruby 3.1.4 / Rails 7.0.3|
|フロントエンド|JavaScript / bootstrap|
|デプロイサーバー|Fly.io|
|データベース|PostgreSQL|
|API|Twitter API|
|gem|下記|

### その他のgem
|目的|gem|
|:---|:---|
|SNSでのシェア|meta-tag|
|OGP|minimagic|
|画像アップロード|CarrierWavev|
|PDF発行|Prown|
|メール通知|Action Mailer|
|バックグラウンド処理|Delayed Job|
|権限管理|pundit|
|ユーザー認証|Device / OmniAuth|
|約束の関連付け|acts_as_tree|
|履行率のグラフ化|Chartkick|

## その他

Q. ペナルティも約束も法的拘束力や強制力が無いものかと思うので、口約束と変わらなくなってしまうのではないか。約束した人自信に約束を守ろうとする意思が無ければ、第三者を介入させたり、ペナルティも設定しても反故にする人は出てくるかと思うが、その辺りはどのように考えているか？  
A. 口約束であっても法的には契約とされていますが、証拠がなければ裁判で勝てません。ペナルティ、第三者介入が約束者に対する精神的な対策であり、法的な強制力が無いのは否定できません。しかし約束が契約である以上、裁判によって法的な措置を取ることができます。この際に、契約の証拠となるデータを用意することができるだけで価値があると考えています。約束を守ろうとする意志の有無は、全ての契約に対して等しく関わる問題だと思います。

## 画面遷移図
Figma：https://www.figma.com/design/Gih30ChRHBlAJrpYfaWa01/screen-transition-diagram?t=qfCanIGlC8LbszUz-1

### READMEに記載した機能
- [x] ユーザー登録機能
- [x] ログイン機能
- [x] パスワード変更機能
- [x] メールアドレス変更機能
- [x] 約束登録機能
- [x] 約束完了機能
- [x] 約束解除機能
- [x] 約束とアカウントの連携機能
- [x] 約束公開機能
- [x] 約束のPDF発行機能
- [x] 約束閲覧機能
- [x] 達成回数／率集計機能
- [x] リマインド機能


### 未ログインでも閲覧または利用できるページ
以下の項目は適切に未ログインでも閲覧または利用できる画面遷移になっているか？
- [x] 約束登録機能
- [x] 約束完了機能
- [x] 約束解除機能
- [x] 約束とアカウントの連携機能
- [x] 約束公開機能
- [x] 約束のPDF発行機能

### メールアドレス・パスワード変更確認項目
直接変更できるものではなく、一旦メールなどを介して専用のページで変更する画面遷移になっているか？
- [x] メールアドレス
- [x] パスワード

### 各画面の作り込み
画面遷移だけでなく、必要なボタンやフォームが確認できるくらい作り込めているか？
- [x] 作り込みはある程度完了している（Figmaを見て画面の作成ができる状態にある）

## ER図
drowio：https://drive.google.com/file/d/1cJhd2mUPLkqLTjvdE_YTLUXn9WVh84h3/view?usp=sharing

### 本サービスの概要（700文字以内）
本サービスは、他者との「約束」を記録・管理し、トラブルやすれ違いを防ぐためのプラットフォームです。ユーザーは約束の内容、期限、履行の証明方法、違約時のペナルティをフォームに入力して登録し、当事者同士で承諾することで成立します。また、第三者を立会人として設定し、履行状況を見届けてもらうことが可能です。立会人の存在は、社会的なプレッシャーとして機能し、約束の実行を後押しします。
履行の証明提出フォームを通じて証拠を記録でき、万が一のトラブル時にも、記録をもとに事実確認がしやすくなります。法的拘束力はありませんが、約束の証拠を簡単に残せることで、裁判等の場での有利な材料となり得ます。
金銭の貸し借り、生活ルール、目標達成など様々な場面で活用できるほか、SNS共有機能により「公言することで守る意識が高まる」効果も狙えます。契約書ほど堅苦しくはないが、ただの口約束より確実な約束を手軽に交わせる――そんな新しい信頼の形を提供します。


### MVPで実装する予定の機能
- [x] ユーザー登録機能
- [x] ログイン機能
- [x] パスワード変更機能
- [x] メールアドレス変更機能
- [x] 約束登録機能
- [x] 約束完了機能
- [x] 約束解除機能
- [x] 約束とアカウントの連携機能
- [x] 約束公開機能
- [x] 約束のPDF発行機能
- [x] 約束閲覧機能
- [x] 達成回数／率集計機能
- [x] リマインド機能

### ER図の注意点
- [x] プルリクエストに最新のER図のスクリーンショットを画像が表示される形で掲載できているか？
- [x] テーブル名は複数形になっているか？
- [x] カラムの型は記載されているか？
- [x] 外部キーは適切に設けられているか？
- [x] リレーションは適切に描かれているか？多対多の関係は存在しないか？
- [x] STIは使用しないER図になっているか？
- [x] Postsテーブルにpost_nameのように"テーブル名+カラム名"を付けていないか？